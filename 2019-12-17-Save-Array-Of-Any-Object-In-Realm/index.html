<!DOCTYPE html><html lang="en" data-theme="light"><head><meta content="utf-8" name="charset"></meta><meta content="width=device-width, initial-scale=1, maximum-scale=5" name="viewport"></meta><meta content="only light" name="color-scheme"></meta><title>Khan's Blog · Save Arrays of Objects in Realm</title><meta content="Create a mapping field on a realm object to easily save and retrieve arrays of anything from a realm object." name="description"></meta><meta content="all" name="robots"></meta><meta content="Khan Winter, Swift, macOS, JavaScript, iOS, web development, blog, SwiftUI" name="keywords"></meta><meta content="website" property="og:type"></meta><meta content="Khan's Blog" property="og:sitename"></meta><meta content="https://khanwinter.com/2019-12-17-Save-Array-Of-Any-Object-In-Realm/" property="og:url"></meta><meta content="Khan's Blog · Save Arrays of Objects in Realm" property="og:title"></meta><meta content="Create a mapping field on a realm object to easily save and retrieve arrays of anything from a realm object." property="og:description"></meta><meta content="https://khanwinter.com/2019-12-17-Save-Array-Of-Any-Object-In-Realm/" property="twitter:url"></meta><meta content="Khan's Blog · Save Arrays of Objects in Realm" property="twitter:title"></meta><meta content="Create a mapping field on a realm object to easily save and retrieve arrays of anything from a realm object." property="twitter:description"></meta><link href="https://khanwinter.com/2019-12-17-Save-Array-Of-Any-Object-In-Realm/" rel="canonical"/><link href="https://bsky.app/profile/khanwinter.com" rel="me"/><link href="https://twitter.com/thecoolwinter" rel="me"/><link href="https://mastodon.social/@thecoolwinter" rel="me"/><link href="https://threads.net/thecoolwinter" rel="me"/><link href="https://www.linkedin.com/in/thecoolwinter/" rel="me"/><link href="/assets/index.css" rel="stylesheet"/><script src="/assets/index.js"></script><link href="/assets/prism.css" rel="stylesheet"/><link href="/assets/code-theme.css" rel="stylesheet"/><script defer src="/assets/prism.js"></script><link data-nav="true" href="/" rel="prefetch"/><link data-nav="true" href="/about" rel="prefetch"/><link data-nav="true" href="/2025-03-29-Cross-Compiling-Swift/" rel="prefetch"/><link data-nav="true" href="/2024-11-02-New-Blog/" rel="prefetch"/><link data-nav="true" href="/2024-11-01-Hide-Desktop-Shortcut/" rel="prefetch"/><link data-nav="true" href="/2021-08-07-Sort-List-Of-Objects/" rel="prefetch"/><link data-nav="true" href="/2021-05-08-Implementing-Sin/" rel="prefetch"/><link data-nav="true" href="/2021-03-17-How-Computers-Calculate-Sin/" rel="prefetch"/><link data-nav="true" href="/2021-02-02-The-Search-Engine-Matrix/" rel="prefetch"/><link data-nav="true" href="/2021-01-07-Save-Codable-Dates-In-Firestore/" rel="prefetch"/><link data-nav="true" href="/2020-05-5-Scripting-With-Swift/" rel="prefetch"/><link data-nav="true" href="/2020-02-24-Programatic-UI-In-UIKit-Without-Storyboards/" rel="prefetch"/><link data-nav="true" href="/2020-11-04-Getting-Started-With-Vapor-4/" rel="prefetch"/><link data-nav="true" href="/2019-12-17-Save-Array-Of-Any-Object-In-Realm/" rel="prefetch"/><link data-nav="true" href="/2020-05-11-Subclassing-Sprites-In-SpriteKit/" rel="prefetch"/><link data-nav="true" href="/2020-05-5-Using-Dependencies-In-Swift-Scripts/" rel="prefetch"/><link data-nav="true" href="/2020-02-21-Easy-Container-Controllers-in-Swift/" rel="prefetch"/><link data-nav="true" href="/2019-12-19-Firebase-Auth-State-Listeners-iOS/" rel="prefetch"/></head><body><nav><ul><li><a href="/index.html">Posts</a></li><li><button onclick="navRandom()">Random</button></li><li><a href="/about.html">About</a></li></ul></nav><div class="content"><article><div class="article-header"><p>May 14, 2020</p><h1>Save Arrays of Objects in Realm</h1><h3>Create a mapping field on a realm object to easily save and retrieve arrays of anything from a realm object.</h3><div class="avatar" href="/about.html"><a href="/about.html"><img alt="Avatar Image" height="24" src="/assets/avatar.webp" width="24"></img><span>Khan Winter</span></a>·<a href="https://bsky.app/profile/khanwinter.com" target="_blank"><svg aria-label="Bluesky" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 530" version="1.1"><path d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"/></svg></a></div></div><h2 id="the-problem-realm-only-allows-you-to-save-lists-of-objects-like-arrays-in-the-codelistlttgtcode-format"><a href="#the-problem-realm-only-allows-you-to-save-lists-of-objects-like-arrays-in-the-codelistlttgtcode-format" class="header-link">The problem: Realm only allows you to save lists of objects (like arrays) in the <code>List&lt;T&gt;</code> format.</a></h2><p>For instance we'll take this dog object. The dog can have multiple Collars, but you have to store them in a list like so.</p><pre><code class="language-swift">class Dog: Object {
    @objc dynamic var name = ""
    @objc dynamic var age = 0

    let collars = List&lt;Collar&gt;()
}

class Collar: Object {
    @objc dynamic var color = "Blue"
    @objc dynamic var favorite = false
}
</code></pre><p>This makes for slightly confusing code when trying to retrieve the collars from the dog and do other operations. However, we can abstract the list and make it an array property by adding one propery to the Dog object</p><pre><code class="language-swift">class Dog: Object {
    @objc dynamic var name = ""
    @objc dynamic var age = 0

    var collars: [Collar] {
      get {
        return _collars.map{ $0 }
      }
      set {
        _collars.removeAll()
        _collars.append(objectsIn: newValue)
      }
    }
    // The original property is here, we simply renamed it and added the above collar variable.
    let _collars = List&lt;Collar&gt;()
}
</code></pre><p>We change the <code>collars</code> property to <code>_collars</code>, then make a new variable <code>collars</code> that realm wont track.</p><p>This variable has two key parts: a getter, and a setter.</p><p>The getter simply maps the <code>_collars</code> object to an array and returns the array.</p><pre><code class="language-swift">get {
    return _collars.map{ $0 }
}
</code></pre><p>The setter removes all the values using <code>.removeAll()</code> and then sets the <code>_collars</code> list from the given array.</p><p>Now we can use the <code>collars</code> property just like any other array. Just make sure to use it in a write block when writing the object to storage like so:</p><pre><code class="language-swift">try! realm.write {
    dog.collars = [Collar(color: "Red", favorite: false), Collar(color: "Blue", favorite: true)]
}
</code></pre><p>This method makes it easier to work with the <code>List&lt;&gt;</code> object and allows for simpler, easier to read code in the rest of your app.</p><hr></hr><div class="article-footer"><p>May 14, 2020</p><div class="avatar" href="/about.html"><a href="/about.html"><img alt="Avatar Image" height="24" src="/assets/avatar.webp" width="24"></img><span>Khan Winter</span></a>·<a href="https://bsky.app/profile/khanwinter.com" target="_blank"><svg aria-label="Bluesky" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 530" version="1.1"><path d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"/></svg></a></div></div></article></div><footer><p>Copyright &copy Khan Winter 2025</p><p><a href="https://github.com/thecoolwinter/blog">Built In Swift</a></p><p><a href="https://bsky.app/profile/khanwinter.com" rel="me" target="_blank">Bluesky</a> | <a href>RSS</a></p></footer></body></html>