<!DOCTYPE html><html lang="en" data-theme="light"><head><meta content="utf-8" name="charset"></meta><meta content="width=device-width, initial-scale=1, maximum-scale=5" name="viewport"></meta><meta content="only light" name="color-scheme"></meta><title>Khan's Blog · Easy Container Controllers in Swift</title><meta content="Create a container controller to separate and simplify your UIKit views." name="description"></meta><meta content="all" name="robots"></meta><meta content="Khan Winter, Swift, macOS, JavaScript, iOS, web development, blog, SwiftUI" name="keywords"></meta><meta content="website" property="og:type"></meta><meta content="Khan's Blog" property="og:sitename"></meta><meta content="https://khanwinter.com/2020-02-21-Easy-Container-Controllers-in-Swift" property="og:url"></meta><meta content="Khan's Blog · Easy Container Controllers in Swift" property="og:title"></meta><meta content="Create a container controller to separate and simplify your UIKit views." property="og:description"></meta><meta content="https://khanwinter.com/2020-02-21-Easy-Container-Controllers-in-Swift" property="twitter:url"></meta><meta content="Khan's Blog · Easy Container Controllers in Swift" property="twitter:title"></meta><meta content="Create a container controller to separate and simplify your UIKit views." property="twitter:description"></meta><link href="https://khanwinter.com/2020-02-21-Easy-Container-Controllers-in-Swift" rel="canonical"/><link href="https://bsky.app/profile/khanwinter.com" rel="me"/><link href="https://twitter.com/thecoolwinter" rel="me"/><link href="https://mastodon.social/@thecoolwinter" rel="me"/><link href="https://threads.net/thecoolwinter" rel="me"/><link href="https://www.linkedin.com/in/thecoolwinter/" rel="me"/><link href="/assets/index.css" rel="stylesheet"/><script src="/assets/index.js"></script><link href="/assets/prism.css" rel="stylesheet"/><link href="/assets/code-theme.css" rel="stylesheet"/><script defer src="/assets/prism.js"></script><link data-nav="true" href="/" rel="prefetch"/><link data-nav="true" href="/about" rel="prefetch"/><link data-nav="true" href="/2026-02-06-OpenType-UIFont" rel="prefetch"/><link data-nav="true" href="/2025-03-29-Cross-Compiling-Swift" rel="prefetch"/><link data-nav="true" href="/2024-11-02-New-Blog" rel="prefetch"/><link data-nav="true" href="/2024-11-01-Hide-Desktop-Shortcut" rel="prefetch"/><link data-nav="true" href="/2021-08-07-Sort-List-Of-Objects" rel="prefetch"/><link data-nav="true" href="/2021-05-08-Implementing-Sin" rel="prefetch"/><link data-nav="true" href="/2021-03-17-How-Computers-Calculate-Sin" rel="prefetch"/><link data-nav="true" href="/2021-02-02-The-Search-Engine-Matrix" rel="prefetch"/><link data-nav="true" href="/2021-01-07-Save-Codable-Dates-In-Firestore" rel="prefetch"/><link data-nav="true" href="/2020-05-5-Scripting-With-Swift" rel="prefetch"/><link data-nav="true" href="/2020-02-24-Programatic-UI-In-UIKit-Without-Storyboards" rel="prefetch"/><link data-nav="true" href="/2020-11-04-Getting-Started-With-Vapor-4" rel="prefetch"/><link data-nav="true" href="/2019-12-17-Save-Array-Of-Any-Object-In-Realm" rel="prefetch"/><link data-nav="true" href="/2020-05-11-Subclassing-Sprites-In-SpriteKit" rel="prefetch"/><link data-nav="true" href="/2020-05-5-Using-Dependencies-In-Swift-Scripts" rel="prefetch"/><link data-nav="true" href="/2020-02-21-Easy-Container-Controllers-in-Swift" rel="prefetch"/><link data-nav="true" href="/2019-12-19-Firebase-Auth-State-Listeners-iOS" rel="prefetch"/></head><body><nav><ul><li><a href="/index.html">Posts</a></li><li><button onclick="navRandom()">Random</button></li><li><a href="/about.html">About</a></li></ul></nav><div class="content"><article><div class="article-header"><p>Feb 23, 2020</p><h1>Easy Container Controllers in Swift</h1><h3>Create a container controller to separate and simplify your UIKit views.</h3><div class="avatar" href="/about.html"><a href="/about.html"><img alt="Avatar Image" height="24" src="/assets/avatar.webp" width="24"></img><span>Khan Winter</span></a>·<a href="https://bsky.app/profile/khanwinter.com" target="_blank"><svg aria-label="Bluesky" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 530" version="1.1"><path d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"/></svg></a></div></div><h2 id="what-are-container-controllers"><a href="#what-are-container-controllers" class="header-link">What are container controllers?</a></h2><p>Container controllers are like a larger, older brother to the UIViewController. They come in extremely handy when dealing with things like Auth state and UIViewController transitions. UIKit already comes with a few container controllers that you most likely know very well. Some examples of these are the <code>UINavigationController</code>, or the <code>UITabViewController</code>. Each of those controllers have one or more sub-controllers and help with things like transitions or UI that needs to stay similar between each of the sub-controllers they contain.</p><h2 id="why-should-i-spend-the-time-to-make-one"><a href="#why-should-i-spend-the-time-to-make-one" class="header-link">Why should I spend the time to make one?</a></h2><p>Container controllers do a few things that make life as a developer much easier. First, they naturally separate your UI code. Instead of having your <code>Auth.onSignOut()</code> function in your AppDelegate (which can get very messy, very quickly), you have the <code>Auth.onSignOut()</code> happen in a separated container that can directly interact with it's sub-controllers without having to use any <code>window.controllers.first</code> junk.</p><h2 id="first-we-need-a-few-extensions"><a href="#first-we-need-a-few-extensions" class="header-link">First we need a few extensions.</a></h2><p>Make a new file for this extension and put the following code in.</p><pre><code class="language-swift">import UIKit

extension UIViewController {
    /*
     This method gives us a function to quickly add a child view controller,
     it takes care of adding the child, adding the view as a subview and then
     telling the subview that it's moved to a new parent.
     */
    func add(_ child: UIViewController) {
        addChild(child)
        view.addSubview(child.view)
        child.didMove(toParent: self)
    }

    /*
     This method makes it simpler to remove a child view controller.
     */
    func remove() {
        // First we check if the parent view controller exists,
        // if not we can stop the whole thing right now.
        guard parent != nil else { return }

        // Here we enumerate through each subview telling them that their
        // going to be removed and then removing them.
        children.forEach({
            $0.willMove(toParent: nil)
            $0.view.removeFromSuperview()
            $0.removeFromParent()
        })

        // These tell this view controller that it will be moving to nil parent
        // and then removes it from the parent view controller.
        willMove(toParent: nil)
        view.removeFromSuperview()
        removeFromParent()
    }
}

</code></pre><p>Read through the comments above for more detail on this peice of code. Basically this extension makes it easier to add and remove child view controllers.</p><h2 id="implementing-the-container-controller"><a href="#implementing-the-container-controller" class="header-link">Implementing the Container Controller.</a></h2><p>Here's the main code of the controller.</p><pre><code class="language-swift">import UIKit

class ContainerController: UIViewController {

    static let shared = ContainerController()

    var displayedView: UIViewController?

    override func viewDidLoad() {
        super.viewDidLoad()

        if displayedView == nil {
            displayedView = UIStoryboard(name: "Main", bundle: nil).instantiateInitialViewController()
            add(displayedView!)
        }
    }

    public func transitionTo(_ view: UIViewController) {
        if displayedView != nil{
            displayedView!.remove()
        }
        add(view)
        displayedView = view
    }
}

</code></pre><p>Simple. In it we give a simple UIViewController with one method called <code>transitionTo(_ view:)</code> which can be called by outside controllers to change what view is displayed.</p><p>We also added a default view to be displayed in the <code>viewDidLoad()</code>. It just makes sure that when we initialize this class it automatically populates the <code>displayedView</code> variable. In this example I intitialize the root controller from the <code>main</code> storyboard, but you can replace it with any view controller or even omit this code entirely.</p><p>Also! I created a singleton by adding a <code>static let shared = ContainerController()</code> variable. You can read more about singletons <a href="https://cocoacasts.com/what-is-a-singleton-and-how-to-create-one-in-swift">here</a> but they basically make it so we can keep track of one container controller for the entire app.</p><small>TL;DR: Some people dislike singletons. However, in this case the ability to access the container controller from anywhere in your app without having to implement a delegate method or callback into every single view controller greatly outweighs the tiny bit of overhead a singleton creates. </small><h2 id="sweet-how-do-i-use-it"><a href="#sweet-how-do-i-use-it" class="header-link">Sweet. How do I use it?</a></h2><p>Really easily. The main way I use it is in my AppDelegate (or SceneManager) like so:</p><pre><code class="language-swift">import UIKit

@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {

    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool {

        var controller: UIViewController!

        let container = ContainerController.shared

        // In this example I'm using FirebaseAuth for authentication.
        // I check if a user is logged in, and if they are I send them
        // to the "Admin" view. Otherwise they go to the "Auth" view.
        if Auth.auth().currentUser != nil {

            let storyboard = UIStoryboard(name: "Admin", bundle: nil)
            controller = storyboard.instantiateInitialViewController()!

        } else {

            let storyboard = UIStoryboard(name: "Auth", bundle: nil)
            controller = storyboard.instantiateInitialViewController()!

        }

        // Make the container the root view controller.
        self.window?.rootViewController = container
        self.window?.makeKeyAndVisible()

        // Transition to the pre-defined controller
        container.transitionTo(controller)

        return true
    }

}
</code></pre><p>Really fairly simple to use. It can also be used from a view controller after the app is already running. To access the container at the root one can simply use <code>ContainerController.shared</code>.</p><hr><p>This post was heavily inspired by John Sundell's post <a href="https://www.swiftbysundell.com/articles/custom-container-view-controllers-in-swift/">here</a>. Go check it out, he's an amazing writer and developer.</p><hr></hr><div class="article-footer"><p>Feb 23, 2020</p><div class="avatar" href="/about.html"><a href="/about.html"><img alt="Avatar Image" height="24" src="/assets/avatar.webp" width="24"></img><span>Khan Winter</span></a>·<a href="https://bsky.app/profile/khanwinter.com" target="_blank"><svg aria-label="Bluesky" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 530" version="1.1"><path d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"/></svg></a></div></div></article></div><footer><p>Copyright &copy Khan Winter 2026</p><p><a href="https://github.com/thecoolwinter/blog">Built In Swift</a></p><p><a href="https://bsky.app/profile/khanwinter.com" rel="me" target="_blank">Bluesky</a> | <a href="https://khanwinter.com/feed.rss">RSS</a></p></footer></body></html>